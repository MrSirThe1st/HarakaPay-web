[
  {
    "Table": "academic_terms",
    "Column": "id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "gen_random_uuid()"
  },
  {
    "Table": "academic_terms",
    "Column": "academic_year_id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "academic_terms",
    "Column": "name",
    "Type": "character varying",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "academic_terms",
    "Column": "start_date",
    "Type": "date",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "academic_terms",
    "Column": "end_date",
    "Type": "date",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "academic_terms",
    "Column": "term_type",
    "Type": "character varying",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "academic_terms",
    "Column": "term_order",
    "Type": "integer",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "academic_terms",
    "Column": "created_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "academic_years",
    "Column": "id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "gen_random_uuid()"
  },
  {
    "Table": "academic_years",
    "Column": "school_id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "academic_years",
    "Column": "name",
    "Type": "character varying",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "academic_years",
    "Column": "start_date",
    "Type": "date",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "academic_years",
    "Column": "end_date",
    "Type": "date",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "academic_years",
    "Column": "term_structure",
    "Type": "character varying",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "academic_years",
    "Column": "is_active",
    "Type": "boolean",
    "Nullable": "NULL",
    "Default": "false"
  },
  {
    "Table": "academic_years",
    "Column": "created_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "academic_years",
    "Column": "updated_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "academic_years",
    "Column": "created_by",
    "Type": "uuid",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "approval_workflows",
    "Column": "id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "gen_random_uuid()"
  },
  {
    "Table": "approval_workflows",
    "Column": "requester_id",
    "Type": "uuid",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "approval_workflows",
    "Column": "entity_type",
    "Type": "text",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "approval_workflows",
    "Column": "entity_id",
    "Type": "uuid",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "approval_workflows",
    "Column": "change_type",
    "Type": "text",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "approval_workflows",
    "Column": "change_details",
    "Type": "jsonb",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "approval_workflows",
    "Column": "status",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "'pending'::text"
  },
  {
    "Table": "approval_workflows",
    "Column": "required_approvals",
    "Type": "jsonb",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "approval_workflows",
    "Column": "received_approvals",
    "Type": "jsonb",
    "Nullable": "NULL",
    "Default": "'[]'::jsonb"
  },
  {
    "Table": "approval_workflows",
    "Column": "expires_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "approval_workflows",
    "Column": "created_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "approval_workflows",
    "Column": "updated_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "audit_logs",
    "Column": "id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "gen_random_uuid()"
  },
  {
    "Table": "audit_logs",
    "Column": "user_id",
    "Type": "uuid",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "audit_logs",
    "Column": "action",
    "Type": "text",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "audit_logs",
    "Column": "entity_type",
    "Type": "text",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "audit_logs",
    "Column": "entity_id",
    "Type": "uuid",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "audit_logs",
    "Column": "details",
    "Type": "jsonb",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "audit_logs",
    "Column": "ip_address",
    "Type": "inet",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "audit_logs",
    "Column": "user_agent",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "audit_logs",
    "Column": "created_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "fee_adjustments",
    "Column": "id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "gen_random_uuid()"
  },
  {
    "Table": "fee_adjustments",
    "Column": "assignment_id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "fee_adjustments",
    "Column": "adjustment_type",
    "Type": "character varying",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "fee_adjustments",
    "Column": "amount",
    "Type": "numeric",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "fee_adjustments",
    "Column": "reason",
    "Type": "text",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "fee_adjustments",
    "Column": "effective_date",
    "Type": "date",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "fee_adjustments",
    "Column": "expires_date",
    "Type": "date",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "fee_adjustments",
    "Column": "is_active",
    "Type": "boolean",
    "Nullable": "NULL",
    "Default": "true"
  },
  {
    "Table": "fee_adjustments",
    "Column": "created_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "fee_adjustments",
    "Column": "created_by",
    "Type": "uuid",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "fee_audit_trail",
    "Column": "id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "gen_random_uuid()"
  },
  {
    "Table": "fee_audit_trail",
    "Column": "school_id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "fee_audit_trail",
    "Column": "entity_type",
    "Type": "character varying",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "fee_audit_trail",
    "Column": "entity_id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "fee_audit_trail",
    "Column": "action",
    "Type": "character varying",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "fee_audit_trail",
    "Column": "old_values",
    "Type": "jsonb",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "fee_audit_trail",
    "Column": "new_values",
    "Type": "jsonb",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "fee_audit_trail",
    "Column": "performed_by",
    "Type": "uuid",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "fee_audit_trail",
    "Column": "performed_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "fee_audit_trail",
    "Column": "ip_address",
    "Type": "inet",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "fee_audit_trail",
    "Column": "user_agent",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "fee_categories",
    "Column": "id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "gen_random_uuid()"
  },
  {
    "Table": "fee_categories",
    "Column": "school_id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "fee_categories",
    "Column": "name",
    "Type": "character varying",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "fee_categories",
    "Column": "description",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "fee_categories",
    "Column": "is_mandatory",
    "Type": "boolean",
    "Nullable": "NULL",
    "Default": "false"
  },
  {
    "Table": "fee_categories",
    "Column": "is_recurring",
    "Type": "boolean",
    "Nullable": "NULL",
    "Default": "false"
  },
  {
    "Table": "fee_categories",
    "Column": "category_type",
    "Type": "character varying",
    "Nullable": "NULL",
    "Default": "'custom'::character varying"
  },
  {
    "Table": "fee_categories",
    "Column": "is_active",
    "Type": "boolean",
    "Nullable": "NULL",
    "Default": "true"
  },
  {
    "Table": "fee_categories",
    "Column": "created_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "fee_categories",
    "Column": "updated_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "fee_categories",
    "Column": "created_by",
    "Type": "uuid",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "fee_template_categories",
    "Column": "id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "gen_random_uuid()"
  },
  {
    "Table": "fee_template_categories",
    "Column": "template_id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "fee_template_categories",
    "Column": "category_id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "fee_template_categories",
    "Column": "amount",
    "Type": "numeric",
    "Nullable": "NOT NULL",
    "Default": "0"
  },
  {
    "Table": "fee_template_categories",
    "Column": "is_active",
    "Type": "boolean",
    "Nullable": "NULL",
    "Default": "true"
  },
  {
    "Table": "fee_template_categories",
    "Column": "created_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "fee_templates",
    "Column": "id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "gen_random_uuid()"
  },
  {
    "Table": "fee_templates",
    "Column": "school_id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "fee_templates",
    "Column": "academic_year_id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "fee_templates",
    "Column": "name",
    "Type": "character varying",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "fee_templates",
    "Column": "grade_level",
    "Type": "character varying",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "fee_templates",
    "Column": "program_type",
    "Type": "character varying",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "fee_templates",
    "Column": "total_amount",
    "Type": "numeric",
    "Nullable": "NOT NULL",
    "Default": "0"
  },
  {
    "Table": "fee_templates",
    "Column": "status",
    "Type": "character varying",
    "Nullable": "NULL",
    "Default": "'draft'::character varying"
  },
  {
    "Table": "fee_templates",
    "Column": "created_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "fee_templates",
    "Column": "updated_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "fee_templates",
    "Column": "created_by",
    "Type": "uuid",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "notifications",
    "Column": "id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "gen_random_uuid()"
  },
  {
    "Table": "notifications",
    "Column": "user_id",
    "Type": "uuid",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "notifications",
    "Column": "title",
    "Type": "text",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "notifications",
    "Column": "message",
    "Type": "text",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "notifications",
    "Column": "type",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "'info'::text"
  },
  {
    "Table": "notifications",
    "Column": "is_read",
    "Type": "boolean",
    "Nullable": "NULL",
    "Default": "false"
  },
  {
    "Table": "notifications",
    "Column": "action_url",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "notifications",
    "Column": "created_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "notifications",
    "Column": "updated_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "parent_students",
    "Column": "id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "gen_random_uuid()"
  },
  {
    "Table": "parent_students",
    "Column": "parent_id",
    "Type": "uuid",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "parent_students",
    "Column": "student_id",
    "Type": "uuid",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "parent_students",
    "Column": "relationship",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "'parent'::text"
  },
  {
    "Table": "parent_students",
    "Column": "is_primary",
    "Type": "boolean",
    "Nullable": "NULL",
    "Default": "false"
  },
  {
    "Table": "parent_students",
    "Column": "created_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "parents",
    "Column": "id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "gen_random_uuid()"
  },
  {
    "Table": "parents",
    "Column": "user_id",
    "Type": "uuid",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "parents",
    "Column": "first_name",
    "Type": "text",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "parents",
    "Column": "last_name",
    "Type": "text",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "parents",
    "Column": "phone",
    "Type": "text",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "parents",
    "Column": "email",
    "Type": "text",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "parents",
    "Column": "address",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "parents",
    "Column": "is_active",
    "Type": "boolean",
    "Nullable": "NULL",
    "Default": "true"
  },
  {
    "Table": "parents",
    "Column": "created_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "parents",
    "Column": "updated_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "payment_installments",
    "Column": "id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "gen_random_uuid()"
  },
  {
    "Table": "payment_installments",
    "Column": "schedule_id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "payment_installments",
    "Column": "installment_number",
    "Type": "integer",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "payment_installments",
    "Column": "name",
    "Type": "character varying",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "payment_installments",
    "Column": "amount",
    "Type": "numeric",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "payment_installments",
    "Column": "percentage",
    "Type": "numeric",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "payment_installments",
    "Column": "due_date",
    "Type": "date",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "payment_installments",
    "Column": "term_id",
    "Type": "uuid",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "payment_installments",
    "Column": "is_active",
    "Type": "boolean",
    "Nullable": "NULL",
    "Default": "true"
  },
  {
    "Table": "payment_installments",
    "Column": "created_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "payment_schedules",
    "Column": "id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "gen_random_uuid()"
  },
  {
    "Table": "payment_schedules",
    "Column": "template_id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "payment_schedules",
    "Column": "name",
    "Type": "character varying",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "payment_schedules",
    "Column": "description",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "payment_schedules",
    "Column": "schedule_type",
    "Type": "character varying",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "payment_schedules",
    "Column": "discount_percentage",
    "Type": "numeric",
    "Nullable": "NULL",
    "Default": "0"
  },
  {
    "Table": "payment_schedules",
    "Column": "is_active",
    "Type": "boolean",
    "Nullable": "NULL",
    "Default": "true"
  },
  {
    "Table": "payment_schedules",
    "Column": "created_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "payment_schedules",
    "Column": "updated_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "payment_schedules",
    "Column": "created_by",
    "Type": "uuid",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "payment_settings",
    "Column": "id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "gen_random_uuid()"
  },
  {
    "Table": "payment_settings",
    "Column": "school_id",
    "Type": "uuid",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "payment_settings",
    "Column": "gateway_provider",
    "Type": "text",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "payment_settings",
    "Column": "api_key",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "payment_settings",
    "Column": "secret_key",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "payment_settings",
    "Column": "webhook_url",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "payment_settings",
    "Column": "is_active",
    "Type": "boolean",
    "Nullable": "NULL",
    "Default": "true"
  },
  {
    "Table": "payment_settings",
    "Column": "created_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "payment_settings",
    "Column": "updated_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "payments",
    "Column": "id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "gen_random_uuid()"
  },
  {
    "Table": "payments",
    "Column": "student_id",
    "Type": "uuid",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "payments",
    "Column": "amount",
    "Type": "numeric",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "payments",
    "Column": "payment_date",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "payments",
    "Column": "payment_method",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "payments",
    "Column": "status",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "'pending'::text"
  },
  {
    "Table": "payments",
    "Column": "description",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "payments",
    "Column": "receipt_url",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "payments",
    "Column": "created_by",
    "Type": "uuid",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "payments",
    "Column": "updated_by",
    "Type": "uuid",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "payments",
    "Column": "created_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "payments",
    "Column": "updated_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "profiles",
    "Column": "id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "gen_random_uuid()"
  },
  {
    "Table": "profiles",
    "Column": "user_id",
    "Type": "uuid",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "profiles",
    "Column": "first_name",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "profiles",
    "Column": "last_name",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "profiles",
    "Column": "role",
    "Type": "text",
    "Nullable": "NOT NULL",
    "Default": "'school_staff'::text"
  },
  {
    "Table": "profiles",
    "Column": "admin_type",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "profiles",
    "Column": "school_id",
    "Type": "uuid",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "profiles",
    "Column": "phone",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "profiles",
    "Column": "avatar_url",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "profiles",
    "Column": "permissions",
    "Type": "jsonb",
    "Nullable": "NULL",
    "Default": "'{}'::jsonb"
  },
  {
    "Table": "profiles",
    "Column": "is_active",
    "Type": "boolean",
    "Nullable": "NULL",
    "Default": "true"
  },
  {
    "Table": "profiles",
    "Column": "created_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "profiles",
    "Column": "updated_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "schools",
    "Column": "id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "gen_random_uuid()"
  },
  {
    "Table": "schools",
    "Column": "name",
    "Type": "text",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "schools",
    "Column": "address",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "schools",
    "Column": "contact_email",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "schools",
    "Column": "contact_phone",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "schools",
    "Column": "registration_number",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "schools",
    "Column": "status",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "'pending'::text"
  },
  {
    "Table": "schools",
    "Column": "verification_status",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "'pending'::text"
  },
  {
    "Table": "schools",
    "Column": "verification_date",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "schools",
    "Column": "verified_by",
    "Type": "uuid",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "schools",
    "Column": "payment_transparency",
    "Type": "jsonb",
    "Nullable": "NULL",
    "Default": "'{\"support_admin_access\": false, \"platform_admin_access\": false}'::jsonb"
  },
  {
    "Table": "schools",
    "Column": "created_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "schools",
    "Column": "updated_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "student_fee_assignments",
    "Column": "id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "gen_random_uuid()"
  },
  {
    "Table": "student_fee_assignments",
    "Column": "student_id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "student_fee_assignments",
    "Column": "template_id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "student_fee_assignments",
    "Column": "schedule_id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "student_fee_assignments",
    "Column": "academic_year_id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "student_fee_assignments",
    "Column": "status",
    "Type": "character varying",
    "Nullable": "NULL",
    "Default": "'active'::character varying"
  },
  {
    "Table": "student_fee_assignments",
    "Column": "total_amount",
    "Type": "numeric",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "student_fee_assignments",
    "Column": "paid_amount",
    "Type": "numeric",
    "Nullable": "NULL",
    "Default": "0"
  },
  {
    "Table": "student_fee_assignments",
    "Column": "outstanding_amount",
    "Type": "numeric",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "student_fee_assignments",
    "Column": "assigned_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "student_fee_assignments",
    "Column": "assigned_by",
    "Type": "uuid",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "student_fee_assignments",
    "Column": "notes",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "student_fee_payments",
    "Column": "id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "gen_random_uuid()"
  },
  {
    "Table": "student_fee_payments",
    "Column": "assignment_id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "student_fee_payments",
    "Column": "installment_id",
    "Type": "uuid",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "student_fee_payments",
    "Column": "amount",
    "Type": "numeric",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "student_fee_payments",
    "Column": "payment_date",
    "Type": "date",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "student_fee_payments",
    "Column": "payment_method",
    "Type": "character varying",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "student_fee_payments",
    "Column": "reference_number",
    "Type": "character varying",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "student_fee_payments",
    "Column": "status",
    "Type": "character varying",
    "Nullable": "NULL",
    "Default": "'completed'::character varying"
  },
  {
    "Table": "student_fee_payments",
    "Column": "notes",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "student_fee_payments",
    "Column": "created_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "student_fee_payments",
    "Column": "created_by",
    "Type": "uuid",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "students",
    "Column": "id",
    "Type": "uuid",
    "Nullable": "NOT NULL",
    "Default": "gen_random_uuid()"
  },
  {
    "Table": "students",
    "Column": "school_id",
    "Type": "uuid",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "students",
    "Column": "student_id",
    "Type": "text",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "students",
    "Column": "first_name",
    "Type": "text",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "students",
    "Column": "last_name",
    "Type": "text",
    "Nullable": "NOT NULL",
    "Default": "No default"
  },
  {
    "Table": "students",
    "Column": "grade_level",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "students",
    "Column": "enrollment_date",
    "Type": "date",
    "Nullable": "NULL",
    "Default": "CURRENT_DATE"
  },
  {
    "Table": "students",
    "Column": "status",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "'active'::text"
  },
  {
    "Table": "students",
    "Column": "created_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "students",
    "Column": "updated_at",
    "Type": "timestamp with time zone",
    "Nullable": "NULL",
    "Default": "now()"
  },
  {
    "Table": "students",
    "Column": "parent_name",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "students",
    "Column": "parent_phone",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "No default"
  },
  {
    "Table": "students",
    "Column": "parent_email",
    "Type": "text",
    "Nullable": "NULL",
    "Default": "No default"
  }
]



[
  {
    "table_name": "approval_workflows",
    "column_name": "id",
    "data_type": "uuid",
    "is_nullable": "NO",
    "column_default": "gen_random_uuid()",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "approval_workflows",
    "column_name": "requester_id",
    "data_type": "uuid",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "approval_workflows",
    "column_name": "entity_type",
    "data_type": "text",
    "is_nullable": "NO",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "approval_workflows",
    "column_name": "entity_id",
    "data_type": "uuid",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "approval_workflows",
    "column_name": "change_type",
    "data_type": "text",
    "is_nullable": "NO",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "approval_workflows",
    "column_name": "change_details",
    "data_type": "jsonb",
    "is_nullable": "NO",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "approval_workflows",
    "column_name": "status",
    "data_type": "text",
    "is_nullable": "YES",
    "column_default": "'pending'::text",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "approval_workflows",
    "column_name": "required_approvals",
    "data_type": "jsonb",
    "is_nullable": "NO",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "approval_workflows",
    "column_name": "received_approvals",
    "data_type": "jsonb",
    "is_nullable": "YES",
    "column_default": "'[]'::jsonb",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "approval_workflows",
    "column_name": "expires_at",
    "data_type": "timestamp with time zone",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "approval_workflows",
    "column_name": "created_at",
    "data_type": "timestamp with time zone",
    "is_nullable": "YES",
    "column_default": "now()",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "approval_workflows",
    "column_name": "updated_at",
    "data_type": "timestamp with time zone",
    "is_nullable": "YES",
    "column_default": "now()",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "audit_logs",
    "column_name": "id",
    "data_type": "uuid",
    "is_nullable": "NO",
    "column_default": "gen_random_uuid()",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "audit_logs",
    "column_name": "user_id",
    "data_type": "uuid",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "audit_logs",
    "column_name": "action",
    "data_type": "text",
    "is_nullable": "NO",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "audit_logs",
    "column_name": "entity_type",
    "data_type": "text",
    "is_nullable": "NO",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "audit_logs",
    "column_name": "entity_id",
    "data_type": "uuid",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "audit_logs",
    "column_name": "details",
    "data_type": "jsonb",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "audit_logs",
    "column_name": "ip_address",
    "data_type": "inet",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "audit_logs",
    "column_name": "user_agent",
    "data_type": "text",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "audit_logs",
    "column_name": "created_at",
    "data_type": "timestamp with time zone",
    "is_nullable": "YES",
    "column_default": "now()",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "notifications",
    "column_name": "id",
    "data_type": "uuid",
    "is_nullable": "NO",
    "column_default": "gen_random_uuid()",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "notifications",
    "column_name": "user_id",
    "data_type": "uuid",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "notifications",
    "column_name": "title",
    "data_type": "text",
    "is_nullable": "NO",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "notifications",
    "column_name": "message",
    "data_type": "text",
    "is_nullable": "NO",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "notifications",
    "column_name": "type",
    "data_type": "text",
    "is_nullable": "YES",
    "column_default": "'info'::text",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "notifications",
    "column_name": "is_read",
    "data_type": "boolean",
    "is_nullable": "YES",
    "column_default": "false",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "notifications",
    "column_name": "action_url",
    "data_type": "text",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "notifications",
    "column_name": "created_at",
    "data_type": "timestamp with time zone",
    "is_nullable": "YES",
    "column_default": "now()",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "notifications",
    "column_name": "updated_at",
    "data_type": "timestamp with time zone",
    "is_nullable": "YES",
    "column_default": "now()",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "parent_students",
    "column_name": "id",
    "data_type": "uuid",
    "is_nullable": "NO",
    "column_default": "gen_random_uuid()",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "parent_students",
    "column_name": "parent_id",
    "data_type": "uuid",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "parent_students",
    "column_name": "student_id",
    "data_type": "uuid",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "parent_students",
    "column_name": "relationship",
    "data_type": "text",
    "is_nullable": "YES",
    "column_default": "'parent'::text",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "parent_students",
    "column_name": "is_primary",
    "data_type": "boolean",
    "is_nullable": "YES",
    "column_default": "false",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "parent_students",
    "column_name": "created_at",
    "data_type": "timestamp with time zone",
    "is_nullable": "YES",
    "column_default": "now()",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "parents",
    "column_name": "id",
    "data_type": "uuid",
    "is_nullable": "NO",
    "column_default": "gen_random_uuid()",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "parents",
    "column_name": "user_id",
    "data_type": "uuid",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "parents",
    "column_name": "first_name",
    "data_type": "text",
    "is_nullable": "NO",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "parents",
    "column_name": "last_name",
    "data_type": "text",
    "is_nullable": "NO",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "parents",
    "column_name": "phone",
    "data_type": "text",
    "is_nullable": "NO",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "parents",
    "column_name": "email",
    "data_type": "text",
    "is_nullable": "NO",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "parents",
    "column_name": "address",
    "data_type": "text",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "parents",
    "column_name": "is_active",
    "data_type": "boolean",
    "is_nullable": "YES",
    "column_default": "true",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "parents",
    "column_name": "created_at",
    "data_type": "timestamp with time zone",
    "is_nullable": "YES",
    "column_default": "now()",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "parents",
    "column_name": "updated_at",
    "data_type": "timestamp with time zone",
    "is_nullable": "YES",
    "column_default": "now()",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "payment_settings",
    "column_name": "id",
    "data_type": "uuid",
    "is_nullable": "NO",
    "column_default": "gen_random_uuid()",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "payment_settings",
    "column_name": "school_id",
    "data_type": "uuid",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "payment_settings",
    "column_name": "gateway_provider",
    "data_type": "text",
    "is_nullable": "NO",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "payment_settings",
    "column_name": "api_key",
    "data_type": "text",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "payment_settings",
    "column_name": "secret_key",
    "data_type": "text",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "payment_settings",
    "column_name": "webhook_url",
    "data_type": "text",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "payment_settings",
    "column_name": "is_active",
    "data_type": "boolean",
    "is_nullable": "YES",
    "column_default": "true",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "payment_settings",
    "column_name": "created_at",
    "data_type": "timestamp with time zone",
    "is_nullable": "YES",
    "column_default": "now()",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "payment_settings",
    "column_name": "updated_at",
    "data_type": "timestamp with time zone",
    "is_nullable": "YES",
    "column_default": "now()",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "payments",
    "column_name": "id",
    "data_type": "uuid",
    "is_nullable": "NO",
    "column_default": "gen_random_uuid()",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "payments",
    "column_name": "student_id",
    "data_type": "uuid",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "payments",
    "column_name": "amount",
    "data_type": "numeric",
    "is_nullable": "NO",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": 10,
    "numeric_scale": 2
  },
  {
    "table_name": "payments",
    "column_name": "payment_date",
    "data_type": "timestamp with time zone",
    "is_nullable": "YES",
    "column_default": "now()",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "payments",
    "column_name": "payment_method",
    "data_type": "text",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "payments",
    "column_name": "status",
    "data_type": "text",
    "is_nullable": "YES",
    "column_default": "'pending'::text",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "payments",
    "column_name": "description",
    "data_type": "text",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "payments",
    "column_name": "receipt_url",
    "data_type": "text",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "payments",
    "column_name": "created_by",
    "data_type": "uuid",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "payments",
    "column_name": "updated_by",
    "data_type": "uuid",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "payments",
    "column_name": "created_at",
    "data_type": "timestamp with time zone",
    "is_nullable": "YES",
    "column_default": "now()",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "payments",
    "column_name": "updated_at",
    "data_type": "timestamp with time zone",
    "is_nullable": "YES",
    "column_default": "now()",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "profiles",
    "column_name": "id",
    "data_type": "uuid",
    "is_nullable": "NO",
    "column_default": "gen_random_uuid()",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "profiles",
    "column_name": "user_id",
    "data_type": "uuid",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "profiles",
    "column_name": "first_name",
    "data_type": "text",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "profiles",
    "column_name": "last_name",
    "data_type": "text",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "profiles",
    "column_name": "role",
    "data_type": "text",
    "is_nullable": "NO",
    "column_default": "'school_staff'::text",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "profiles",
    "column_name": "admin_type",
    "data_type": "text",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "profiles",
    "column_name": "school_id",
    "data_type": "uuid",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "profiles",
    "column_name": "phone",
    "data_type": "text",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "profiles",
    "column_name": "avatar_url",
    "data_type": "text",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "profiles",
    "column_name": "permissions",
    "data_type": "jsonb",
    "is_nullable": "YES",
    "column_default": "'{}'::jsonb",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "profiles",
    "column_name": "is_active",
    "data_type": "boolean",
    "is_nullable": "YES",
    "column_default": "true",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "profiles",
    "column_name": "created_at",
    "data_type": "timestamp with time zone",
    "is_nullable": "YES",
    "column_default": "now()",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "profiles",
    "column_name": "updated_at",
    "data_type": "timestamp with time zone",
    "is_nullable": "YES",
    "column_default": "now()",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "schools",
    "column_name": "id",
    "data_type": "uuid",
    "is_nullable": "NO",
    "column_default": "gen_random_uuid()",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "schools",
    "column_name": "name",
    "data_type": "text",
    "is_nullable": "NO",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "schools",
    "column_name": "address",
    "data_type": "text",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "schools",
    "column_name": "contact_email",
    "data_type": "text",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "schools",
    "column_name": "contact_phone",
    "data_type": "text",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "schools",
    "column_name": "registration_number",
    "data_type": "text",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "schools",
    "column_name": "status",
    "data_type": "text",
    "is_nullable": "YES",
    "column_default": "'pending'::text",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "schools",
    "column_name": "verification_status",
    "data_type": "text",
    "is_nullable": "YES",
    "column_default": "'pending'::text",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "schools",
    "column_name": "verification_date",
    "data_type": "timestamp with time zone",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "schools",
    "column_name": "verified_by",
    "data_type": "uuid",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "schools",
    "column_name": "payment_transparency",
    "data_type": "jsonb",
    "is_nullable": "YES",
    "column_default": "'{\"support_admin_access\": false, \"platform_admin_access\": false}'::jsonb",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "schools",
    "column_name": "created_at",
    "data_type": "timestamp with time zone",
    "is_nullable": "YES",
    "column_default": "now()",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "schools",
    "column_name": "updated_at",
    "data_type": "timestamp with time zone",
    "is_nullable": "YES",
    "column_default": "now()",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "students",
    "column_name": "id",
    "data_type": "uuid",
    "is_nullable": "NO",
    "column_default": "gen_random_uuid()",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "students",
    "column_name": "school_id",
    "data_type": "uuid",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "students",
    "column_name": "student_id",
    "data_type": "text",
    "is_nullable": "NO",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "students",
    "column_name": "first_name",
    "data_type": "text",
    "is_nullable": "NO",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "students",
    "column_name": "last_name",
    "data_type": "text",
    "is_nullable": "NO",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "students",
    "column_name": "grade_level",
    "data_type": "text",
    "is_nullable": "YES",
    "column_default": null,
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  },
  {
    "table_name": "students",
    "column_name": "enrollment_date",
    "data_type": "date",
    "is_nullable": "YES",
    "column_default": "CURRENT_DATE",
    "character_maximum_length": null,
    "numeric_precision": null,
    "numeric_scale": null
  }
]


[
  {
    "table_name": "approval_workflows",
    "column_name": "requester_id",
    "foreign_table_name": "profiles",
    "foreign_column_name": "id",
    "constraint_name": "approval_workflows_requester_id_fkey"
  },
  {
    "table_name": "parent_students",
    "column_name": "parent_id",
    "foreign_table_name": "parents",
    "foreign_column_name": "id",
    "constraint_name": "parent_students_parent_id_fkey"
  },
  {
    "table_name": "parent_students",
    "column_name": "student_id",
    "foreign_table_name": "students",
    "foreign_column_name": "id",
    "constraint_name": "parent_students_student_id_fkey"
  },
  {
    "table_name": "payment_settings",
    "column_name": "school_id",
    "foreign_table_name": "schools",
    "foreign_column_name": "id",
    "constraint_name": "payment_settings_school_id_fkey"
  },
  {
    "table_name": "payments",
    "column_name": "created_by",
    "foreign_table_name": "profiles",
    "foreign_column_name": "id",
    "constraint_name": "payments_created_by_fkey"
  },
  {
    "table_name": "payments",
    "column_name": "student_id",
    "foreign_table_name": "students",
    "foreign_column_name": "id",
    "constraint_name": "payments_student_id_fkey"
  },
  {
    "table_name": "payments",
    "column_name": "updated_by",
    "foreign_table_name": "profiles",
    "foreign_column_name": "id",
    "constraint_name": "payments_updated_by_fkey"
  },
  {
    "table_name": "schools",
    "column_name": "verified_by",
    "foreign_table_name": "profiles",
    "foreign_column_name": "id",
    "constraint_name": "schools_verified_by_fkey"
  },
  {
    "table_name": "students",
    "column_name": "school_id",
    "foreign_table_name": "schools",
    "foreign_column_name": "id",
    "constraint_name": "students_school_id_fkey"
  }
]


[
  {
    "schemaname": "public",
    "tablename": "approval_workflows",
    "policyname": "approval_workflows_delete_policy",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "DELETE",
    "qual": "(EXISTS ( SELECT 1\n   FROM profiles user_profile\n  WHERE ((user_profile.user_id = auth.uid()) AND (user_profile.is_active = true) AND (user_profile.role = 'super_admin'::text))))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "approval_workflows",
    "policyname": "approval_workflows_insert_policy",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "INSERT",
    "qual": null,
    "with_check": "(EXISTS ( SELECT 1\n   FROM profiles user_profile\n  WHERE ((user_profile.user_id = auth.uid()) AND (user_profile.is_active = true) AND ((user_profile.role = 'super_admin'::text) OR (user_profile.role = 'school_admin'::text)))))"
  },
  {
    "schemaname": "public",
    "tablename": "approval_workflows",
    "policyname": "approval_workflows_select_policy",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "qual": "(EXISTS ( SELECT 1\n   FROM profiles user_profile\n  WHERE ((user_profile.user_id = auth.uid()) AND (user_profile.is_active = true) AND ((user_profile.role = 'super_admin'::text) OR (user_profile.role = 'platform_admin'::text) OR (user_profile.role = 'school_admin'::text)))))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "approval_workflows",
    "policyname": "approval_workflows_update_policy",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "UPDATE",
    "qual": "(EXISTS ( SELECT 1\n   FROM profiles user_profile\n  WHERE ((user_profile.user_id = auth.uid()) AND (user_profile.is_active = true) AND ((user_profile.role = 'super_admin'::text) OR (user_profile.role = 'platform_admin'::text) OR (user_profile.role = 'school_admin'::text)))))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "audit_logs",
    "policyname": "audit_logs_insert_policy",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "INSERT",
    "qual": null,
    "with_check": "(auth.uid() IS NOT NULL)"
  },
  {
    "schemaname": "public",
    "tablename": "audit_logs",
    "policyname": "audit_logs_select_policy",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "qual": "((user_id = auth.uid()) OR (EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.user_id = auth.uid()) AND (profiles.is_active = true) AND (profiles.role = ANY (ARRAY['super_admin'::text, 'platform_admin'::text, 'support_admin'::text]))))))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "notifications",
    "policyname": "notifications_delete_policy",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "DELETE",
    "qual": "((user_id = auth.uid()) OR (EXISTS ( SELECT 1\n   FROM profiles user_profile\n  WHERE ((user_profile.user_id = auth.uid()) AND (user_profile.is_active = true) AND (user_profile.role = 'super_admin'::text)))))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "notifications",
    "policyname": "notifications_insert_policy",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "INSERT",
    "qual": null,
    "with_check": "(EXISTS ( SELECT 1\n   FROM profiles user_profile\n  WHERE ((user_profile.user_id = auth.uid()) AND (user_profile.is_active = true) AND ((user_profile.role = 'super_admin'::text) OR (user_profile.role = 'platform_admin'::text) OR (user_profile.role = 'school_admin'::text)))))"
  },
  {
    "schemaname": "public",
    "tablename": "notifications",
    "policyname": "notifications_select_policy",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "qual": "((user_id = auth.uid()) OR (EXISTS ( SELECT 1\n   FROM profiles user_profile\n  WHERE ((user_profile.user_id = auth.uid()) AND (user_profile.is_active = true) AND ((user_profile.role = 'super_admin'::text) OR ((user_profile.role = 'school_admin'::text) AND (EXISTS ( SELECT 1\n           FROM profiles notification_recipient\n          WHERE ((notification_recipient.user_id = notifications.user_id) AND (notification_recipient.school_id = user_profile.school_id))))))))))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "notifications",
    "policyname": "notifications_update_policy",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "UPDATE",
    "qual": "((user_id = auth.uid()) OR (EXISTS ( SELECT 1\n   FROM profiles user_profile\n  WHERE ((user_profile.user_id = auth.uid()) AND (user_profile.is_active = true) AND (user_profile.role = 'super_admin'::text)))))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "parent_students",
    "policyname": "parent_students_own_relationships",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "qual": "(parent_id IN ( SELECT parents.id\n   FROM parents\n  WHERE (parents.user_id = auth.uid())))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "parents",
    "policyname": "parents_insert_own_profile",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "INSERT",
    "qual": null,
    "with_check": "(auth.uid() = user_id)"
  },
  {
    "schemaname": "public",
    "tablename": "parents",
    "policyname": "parents_select_own_profile",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "qual": "(auth.uid() = user_id)",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "parents",
    "policyname": "parents_update_own_profile",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "UPDATE",
    "qual": "(auth.uid() = user_id)",
    "with_check": "(auth.uid() = user_id)"
  },
  {
    "schemaname": "public",
    "tablename": "payment_settings",
    "policyname": "payment_settings_delete_policy",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "DELETE",
    "qual": "(EXISTS ( SELECT 1\n   FROM profiles user_profile\n  WHERE ((user_profile.user_id = auth.uid()) AND (user_profile.is_active = true) AND (user_profile.role = 'super_admin'::text))))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "payment_settings",
    "policyname": "payment_settings_insert_policy",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "INSERT",
    "qual": null,
    "with_check": "(EXISTS ( SELECT 1\n   FROM profiles user_profile\n  WHERE ((user_profile.user_id = auth.uid()) AND (user_profile.is_active = true) AND ((user_profile.role = 'super_admin'::text) OR ((user_profile.role = 'school_admin'::text) AND (user_profile.school_id = payment_settings.school_id))))))"
  },
  {
    "schemaname": "public",
    "tablename": "payment_settings",
    "policyname": "payment_settings_select_policy",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "qual": "(EXISTS ( SELECT 1\n   FROM profiles user_profile\n  WHERE ((user_profile.user_id = auth.uid()) AND (user_profile.is_active = true) AND ((user_profile.role = 'super_admin'::text) OR ((user_profile.role = 'school_admin'::text) AND (user_profile.school_id = payment_settings.school_id)) OR ((user_profile.role = 'school_staff'::text) AND (user_profile.school_id = payment_settings.school_id))))))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "payment_settings",
    "policyname": "payment_settings_update_policy",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "UPDATE",
    "qual": "(EXISTS ( SELECT 1\n   FROM profiles user_profile\n  WHERE ((user_profile.user_id = auth.uid()) AND (user_profile.is_active = true) AND ((user_profile.role = 'super_admin'::text) OR ((user_profile.role = 'school_admin'::text) AND (user_profile.school_id = payment_settings.school_id))))))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "payments",
    "policyname": "payments_parent_access",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "qual": "(EXISTS ( SELECT 1\n   FROM profiles p\n  WHERE ((p.user_id = auth.uid()) AND (p.role = 'parent'::text) AND (p.is_active = true) AND (payments.student_id IN ( SELECT ps.student_id\n           FROM (parent_students ps\n             JOIN parents par ON ((ps.parent_id = par.id)))\n          WHERE (par.user_id = p.user_id))))))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "profiles",
    "policyname": "profiles_delete_policy",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "DELETE",
    "qual": "(EXISTS ( SELECT 1\n   FROM profiles user_profile\n  WHERE ((user_profile.user_id = auth.uid()) AND (user_profile.is_active = true) AND (((user_profile.role = 'super_admin'::text) AND (profiles.role <> 'super_admin'::text)) OR ((user_profile.role = 'platform_admin'::text) AND (profiles.role = ANY (ARRAY['school_admin'::text, 'school_staff'::text]))) OR ((user_profile.role = 'school_admin'::text) AND (profiles.school_id = user_profile.school_id) AND (profiles.role = 'school_staff'::text))))))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "profiles",
    "policyname": "profiles_insert_policy",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "INSERT",
    "qual": null,
    "with_check": "((user_id = auth.uid()) OR (EXISTS ( SELECT 1\n   FROM profiles user_profile\n  WHERE ((user_profile.user_id = auth.uid()) AND (user_profile.is_active = true) AND ((user_profile.role = 'super_admin'::text) OR ((user_profile.role = 'platform_admin'::text) AND (profiles.role = ANY (ARRAY['school_admin'::text, 'school_staff'::text]))) OR ((user_profile.role = 'school_admin'::text) AND (profiles.role = 'school_staff'::text) AND (profiles.school_id = user_profile.school_id)))))))"
  },
  {
    "schemaname": "public",
    "tablename": "profiles",
    "policyname": "profiles_select_policy",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "qual": "((user_id = auth.uid()) OR (get_user_role(auth.uid()) = ANY (ARRAY['super_admin'::text, 'platform_admin'::text, 'support_admin'::text, 'school_admin'::text, 'school_staff'::text, 'parent'::text])))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "profiles",
    "policyname": "profiles_update_policy",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "UPDATE",
    "qual": "((user_id = auth.uid()) OR (EXISTS ( SELECT 1\n   FROM profiles user_profile\n  WHERE ((user_profile.user_id = auth.uid()) AND (user_profile.is_active = true) AND ((user_profile.role = 'super_admin'::text) OR ((user_profile.role = 'platform_admin'::text) AND (profiles.role = ANY (ARRAY['school_admin'::text, 'school_staff'::text]))) OR ((user_profile.role = 'school_admin'::text) AND (profiles.school_id = user_profile.school_id)))))))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "schools",
    "policyname": "schools_anonymous_select",
    "permissive": "PERMISSIVE",
    "roles": "{anon}",
    "cmd": "SELECT",
    "qual": "(status = 'approved'::text)",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "schools",
    "policyname": "schools_delete_policy",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "DELETE",
    "qual": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.user_id = auth.uid()) AND (profiles.is_active = true) AND (profiles.role = 'super_admin'::text))))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "schools",
    "policyname": "schools_insert_policy",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "INSERT",
    "qual": null,
    "with_check": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.user_id = auth.uid()) AND (profiles.is_active = true) AND (profiles.role = ANY (ARRAY['super_admin'::text, 'platform_admin'::text])))))"
  },
  {
    "schemaname": "public",
    "tablename": "schools",
    "policyname": "schools_select_policy",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "qual": "(((auth.uid() IS NULL) AND (status = 'approved'::text)) OR (EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.user_id = auth.uid()) AND (profiles.is_active = true) AND ((profiles.role = ANY (ARRAY['super_admin'::text, 'platform_admin'::text, 'support_admin'::text])) OR ((profiles.role = ANY (ARRAY['school_admin'::text, 'school_staff'::text])) AND (profiles.school_id = schools.id)) OR (profiles.role = 'parent'::text))))))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "schools",
    "policyname": "schools_update_policy",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "UPDATE",
    "qual": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.user_id = auth.uid()) AND (profiles.is_active = true) AND ((profiles.role = ANY (ARRAY['super_admin'::text, 'platform_admin'::text])) OR ((profiles.role = ANY (ARRAY['school_admin'::text, 'school_staff'::text])) AND (profiles.school_id = schools.id))))))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "students",
    "policyname": "students_delete_policy",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "DELETE",
    "qual": "(EXISTS ( SELECT 1\n   FROM profiles user_profile\n  WHERE ((user_profile.user_id = auth.uid()) AND (user_profile.is_active = true) AND ((user_profile.role = 'super_admin'::text) OR ((user_profile.role = 'school_admin'::text) AND (user_profile.school_id = students.school_id))))))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "students",
    "policyname": "students_insert_policy",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "INSERT",
    "qual": null,
    "with_check": "(EXISTS ( SELECT 1\n   FROM profiles user_profile\n  WHERE ((user_profile.user_id = auth.uid()) AND (user_profile.is_active = true) AND ((user_profile.role = 'super_admin'::text) OR (user_profile.role = 'platform_admin'::text) OR ((user_profile.role = 'school_admin'::text) AND (user_profile.school_id = students.school_id)) OR ((user_profile.role = 'school_staff'::text) AND (user_profile.school_id = students.school_id))))))"
  },
  {
    "schemaname": "public",
    "tablename": "students",
    "policyname": "students_select_policy",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "SELECT",
    "qual": "((EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.user_id = auth.uid()) AND (profiles.is_active = true) AND ((profiles.role = ANY (ARRAY['super_admin'::text, 'platform_admin'::text, 'support_admin'::text])) OR ((profiles.role = ANY (ARRAY['school_admin'::text, 'school_staff'::text])) AND (profiles.school_id = students.school_id)))))) OR (EXISTS ( SELECT 1\n   FROM profiles p\n  WHERE ((p.user_id = auth.uid()) AND (p.role = 'parent'::text) AND (p.is_active = true) AND (students.id IN ( SELECT ps.student_id\n           FROM (parent_students ps\n             JOIN parents par ON ((ps.parent_id = par.id)))\n          WHERE (par.user_id = p.user_id)))))))",
    "with_check": null
  },
  {
    "schemaname": "public",
    "tablename": "students",
    "policyname": "students_update_policy",
    "permissive": "PERMISSIVE",
    "roles": "{public}",
    "cmd": "UPDATE",
    "qual": "(EXISTS ( SELECT 1\n   FROM profiles user_profile\n  WHERE ((user_profile.user_id = auth.uid()) AND (user_profile.is_active = true) AND ((user_profile.role = 'super_admin'::text) OR (user_profile.role = 'platform_admin'::text) OR ((user_profile.role = 'school_admin'::text) AND (user_profile.school_id = students.school_id)) OR ((user_profile.role = 'school_staff'::text) AND (user_profile.school_id = students.school_id))))))",
    "with_check": null
  }
]

[
  {
    "schema_name": "public",
    "function_name": "debug_user_context",
    "return_type": "TABLE(current_user_id uuid, user_role text, school_id uuid, is_parent boolean)",
    "arguments": "",
    "volatility": "VOLATILE"
  },
  {
    "schema_name": "public",
    "function_name": "get_user_role",
    "return_type": "text",
    "arguments": "user_uuid uuid",
    "volatility": "VOLATILE"
  },
  {
    "schema_name": "public",
    "function_name": "get_user_school",
    "return_type": "uuid",
    "arguments": "user_id uuid",
    "volatility": "VOLATILE"
  }
]


[
  {
    "index_name": "approval_workflows_pkey",
    "table_name": "approval_workflows",
    "column_name": "id",
    "is_unique": true,
    "is_primary": true
  },
  {
    "index_name": "idx_approval_workflows_requester_id",
    "table_name": "approval_workflows",
    "column_name": "requester_id",
    "is_unique": false,
    "is_primary": false
  },
  {
    "index_name": "idx_approval_workflows_status",
    "table_name": "approval_workflows",
    "column_name": "status",
    "is_unique": false,
    "is_primary": false
  },
  {
    "index_name": "audit_logs_pkey",
    "table_name": "audit_logs",
    "column_name": "id",
    "is_unique": true,
    "is_primary": true
  },
  {
    "index_name": "idx_audit_logs_created_at",
    "table_name": "audit_logs",
    "column_name": "created_at",
    "is_unique": false,
    "is_primary": false
  },
  {
    "index_name": "idx_audit_logs_entity_type",
    "table_name": "audit_logs",
    "column_name": "entity_type",
    "is_unique": false,
    "is_primary": false
  },
  {
    "index_name": "idx_audit_logs_user_id",
    "table_name": "audit_logs",
    "column_name": "user_id",
    "is_unique": false,
    "is_primary": false
  },
  {
    "index_name": "idx_notifications_is_read",
    "table_name": "notifications",
    "column_name": "is_read",
    "is_unique": false,
    "is_primary": false
  },
  {
    "index_name": "idx_notifications_user_id",
    "table_name": "notifications",
    "column_name": "user_id",
    "is_unique": false,
    "is_primary": false
  },
  {
    "index_name": "notifications_pkey",
    "table_name": "notifications",
    "column_name": "id",
    "is_unique": true,
    "is_primary": true
  },
  {
    "index_name": "idx_parent_students_parent_id",
    "table_name": "parent_students",
    "column_name": "parent_id",
    "is_unique": false,
    "is_primary": false
  },
  {
    "index_name": "idx_parent_students_student_id",
    "table_name": "parent_students",
    "column_name": "student_id",
    "is_unique": false,
    "is_primary": false
  },
  {
    "index_name": "parent_students_parent_id_student_id_key",
    "table_name": "parent_students",
    "column_name": "student_id",
    "is_unique": true,
    "is_primary": false
  },
  {
    "index_name": "parent_students_parent_id_student_id_key",
    "table_name": "parent_students",
    "column_name": "parent_id",
    "is_unique": true,
    "is_primary": false
  },
  {
    "index_name": "parent_students_pkey",
    "table_name": "parent_students",
    "column_name": "id",
    "is_unique": true,
    "is_primary": true
  },
  {
    "index_name": "idx_parents_user_id",
    "table_name": "parents",
    "column_name": "user_id",
    "is_unique": false,
    "is_primary": false
  },
  {
    "index_name": "parents_pkey",
    "table_name": "parents",
    "column_name": "id",
    "is_unique": true,
    "is_primary": true
  },
  {
    "index_name": "parents_user_id_key",
    "table_name": "parents",
    "column_name": "user_id",
    "is_unique": true,
    "is_primary": false
  },
  {
    "index_name": "payment_settings_pkey",
    "table_name": "payment_settings",
    "column_name": "id",
    "is_unique": true,
    "is_primary": true
  },
  {
    "index_name": "payment_settings_school_id_key",
    "table_name": "payment_settings",
    "column_name": "school_id",
    "is_unique": true,
    "is_primary": false
  },
  {
    "index_name": "idx_payments_payment_date",
    "table_name": "payments",
    "column_name": "payment_date",
    "is_unique": false,
    "is_primary": false
  },
  {
    "index_name": "idx_payments_status",
    "table_name": "payments",
    "column_name": "status",
    "is_unique": false,
    "is_primary": false
  },
  {
    "index_name": "idx_payments_student_id",
    "table_name": "payments",
    "column_name": "student_id",
    "is_unique": false,
    "is_primary": false
  },
  {
    "index_name": "payments_pkey",
    "table_name": "payments",
    "column_name": "id",
    "is_unique": true,
    "is_primary": true
  },
  {
    "index_name": "idx_profiles_admin_type",
    "table_name": "profiles",
    "column_name": "admin_type",
    "is_unique": false,
    "is_primary": false
  },
  {
    "index_name": "idx_profiles_role",
    "table_name": "profiles",
    "column_name": "role",
    "is_unique": false,
    "is_primary": false
  },
  {
    "index_name": "idx_profiles_school_id",
    "table_name": "profiles",
    "column_name": "school_id",
    "is_unique": false,
    "is_primary": false
  },
  {
    "index_name": "idx_profiles_user_id",
    "table_name": "profiles",
    "column_name": "user_id",
    "is_unique": false,
    "is_primary": false
  },
  {
    "index_name": "profiles_pkey",
    "table_name": "profiles",
    "column_name": "id",
    "is_unique": true,
    "is_primary": true
  },
  {
    "index_name": "profiles_user_id_key",
    "table_name": "profiles",
    "column_name": "user_id",
    "is_unique": true,
    "is_primary": false
  },
  {
    "index_name": "idx_schools_status",
    "table_name": "schools",
    "column_name": "status",
    "is_unique": false,
    "is_primary": false
  },
  {
    "index_name": "idx_schools_verification_status",
    "table_name": "schools",
    "column_name": "verification_status",
    "is_unique": false,
    "is_primary": false
  },
  {
    "index_name": "schools_pkey",
    "table_name": "schools",
    "column_name": "id",
    "is_unique": true,
    "is_primary": true
  },
  {
    "index_name": "schools_registration_number_key",
    "table_name": "schools",
    "column_name": "registration_number",
    "is_unique": true,
    "is_primary": false
  },
  {
    "index_name": "idx_students_parent_email",
    "table_name": "students",
    "column_name": "parent_email",
    "is_unique": false,
    "is_primary": false
  },
  {
    "index_name": "idx_students_parent_phone",
    "table_name": "students",
    "column_name": "parent_phone",
    "is_unique": false,
    "is_primary": false
  },
  {
    "index_name": "idx_students_school_id",
    "table_name": "students",
    "column_name": "school_id",
    "is_unique": false,
    "is_primary": false
  },
  {
    "index_name": "idx_students_status",
    "table_name": "students",
    "column_name": "status",
    "is_unique": false,
    "is_primary": false
  },
  {
    "index_name": "idx_students_student_id",
    "table_name": "students",
    "column_name": "student_id",
    "is_unique": false,
    "is_primary": false
  },
  {
    "index_name": "students_pkey",
    "table_name": "students",
    "column_name": "id",
    "is_unique": true,
    "is_primary": true
  },
  {
    "index_name": "students_school_id_student_id_key",
    "table_name": "students",
    "column_name": "student_id",
    "is_unique": true,
    "is_primary": false
  },
  {
    "index_name": "students_school_id_student_id_key",
    "table_name": "students",
    "column_name": "school_id",
    "is_unique": true,
    "is_primary": false
  }
]